{{ define "main" }}
<main>
    {{ if .IsHome }}
        <h1>{{ site.Title }}</h1>
        {{ with site.Params.Description }}
            <p>{{ . }} </p>
        {{ end }}

        <ul>
            {{ range site.RegularPages.ByLastmod.Reverse }}
                <li>
                    <a href="{{ .Permalink }}">{{ .Title }}</a>
                    {{ if (not .Date.IsZero) }}
                        <small>
                            —
                            <time datetime="{{ dateFormat "Jan 2, 2006" .Date }}">
                                {{ dateFormat "Jan 2, 2006" .Date }}
                            </time>
                        </small>
                    {{ end }}
                </li>
            {{ end }}
        </ul>
    {{ else }}
        <h1>Posts in ‘{{ .Section }}’</h1>

        <ul>
            {{ range site.RegularPages.ByLastmod.Reverse }}
                <li>
                    <a href="{{ .Permalink }}">{{ .Title }}</a>
                    {{ if (not .Date.IsZero) }}
                        <time datetime="{{ dateFormat "Jan 2, 2006" .Date }}">
                            {{ dateFormat "Jan 2, 2006" .Date }}
                        </time>
                    {{ end }}
                </li>
            {{ end }}
        </ul>
    {{ end }}

    {{ with .Content }}
        {{ . }}
    {{ end }}
</main>
{{ end }}

{{ define "footer" }}
{{ range .AlternativeOutputFormats }}
    {{ $name_upper := .Name | upper }}
    {{ if (or (eq $name_upper "RSS") (eq $name_upper "ATOM")) }}
        <hr>
        <footer>
            {{ printf `<a href="%s">%s</a>` .Permalink $name_upper | safeHTML }}
        </footer>
    {{ end }}
{{ end }}
{{ end }}
